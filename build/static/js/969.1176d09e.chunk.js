"use strict";(self.webpackChunkmedico=self.webpackChunkmedico||[]).push([[969],{3281:function(e,r,n){n.d(r,{L:function(){return l},s:function(){return p}});var t=n(5861),s=n(7757),i=n.n(s),a=n(4569),c=n.n(a),o=n(3475),d=n(7254),l=function(e){return function(){var r=(0,t.Z)(i().mark((function r(n,t){var s,a;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:o.H4}),r.next=4,c().post("https://medico-django-app.herokuapp.com/api/orders/add/",e);case 4:s=r.sent,a=s.data,n({type:o.cj,payload:a}),n({type:d.Tc,payload:a}),localStorage.removeItem("cartItems"),localStorage.removeItem("cardDetails"),localStorage.removeItem("bookingDetails"),localStorage.removeItem("paymentMethod"),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),n({type:o.yR,payload:r.t0.response&&r.t0.response.data.detail?r.t0.response.data.detail:r.t0.message});case 17:case"end":return r.stop()}}),r,null,[[0,14]])})));return function(e,n){return r.apply(this,arguments)}}()},p=function(e){return function(){var r=(0,t.Z)(i().mark((function r(n){var t,s;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:o.YO}),r.next=4,c().get("https://medico-django-app.herokuapp.com/api/orders/".concat(e));case 4:t=r.sent,s=t.data,n({type:o.um,payload:s}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),n({type:o.Ab,payload:r.t0.response&&r.t0.response.data.detail?r.t0.response.data.detail:r.t0.message});case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()}},1885:function(e,r,n){n(2791);var t=n(2469),s=n(184);r.Z=function(e){var r=e.variant,n=e.children;return(0,s.jsx)(t.Z,{variant:r,children:n})}},9094:function(e,r,n){n.r(r),n.d(r,{default:function(){return S}});var t=n(2791),s=n(2175),i=n(885),a="placeOrder_checkout__-ZZa7",c="placeOrder_checkoutHeader__hicgA",o="placeOrder_linkStyle__Odlsu",d="placeOrder_continueShopping__pcXWp",l=n(9743),p=n(2677),u=n(3922),h=n(2592),m=n(2144),f=n(3360),x=n(3504),v=n(6871),j=n(6030),g=n(3178),Z=n(1885),b=n(7530),y=n(3281),N=n(159),I=n(4270),P=n(184);var _=function(){var e,r,n=(0,j.I0)(),s=((0,v.s0)(),(0,j.v9)((function(e){return e.cart}))),_=(0,j.v9)((function(e){return e.others})),w=(0,j.v9)((function(e){return e.orderDetails})),S=w.order,k=w.error,A=w.loading,O=(0,t.useState)(s.shippingAddress.firstName),D=(0,i.Z)(O,2),C=D[0],T=(D[1],(0,t.useState)(s.shippingAddress.email)),E=(0,i.Z)(T,2),F=E[0],M=(E[1],(0,t.useState)({user_name:C,user_email:F})),R=(0,i.Z)(M,2),L=R[0];return R[1],s.taxPrice=Number(.082*s.itemsPrice).toFixed(2),_.otherItems&&(s.shippingPrice=s.itemsPrice>150?0:null===(r=_.otherItems[0])||void 0===r?void 0:r.shipping_fee,s.totalPrice=(Number(s.itemsPrice)+Number(s.shippingPrice)+Number(s.taxPrice)).toFixed(2)),(0,t.useEffect)((function(){var e=JSON.parse(localStorage.getItem("OrderId")),r=JSON.parse(localStorage.getItem("emailSent"));n((0,N.Dy)()),null!=e&&n((0,y.s)(e)),null!==r&&b.ZP.send("service_dcylj39","template_8r37lbo",L,"koe0WrRJk3-hzM2ow").then((function(e){console.log("SUCCESS!",e),localStorage.removeItem("emailSent")}),(function(e){console.log("FAILED...",e)}))}),[n]),A?(0,P.jsx)(g.Z,{}):k?(0,P.jsx)(Z.Z,{variant:"danger",children:k}):(0,P.jsxs)("div",{className:a,children:[(0,P.jsx)(I.q,{children:(0,P.jsx)("title",{children:"Thank you for Order With Modatabs Pharmacy "})}),(0,P.jsxs)("div",{className:"container",children:[(0,P.jsx)(l.Z,{children:(0,P.jsx)("div",{className:"col-lg-12",children:(0,P.jsx)("h2",{className:c,children:(0,P.jsx)("span",{children:"Thank you. Your order has been received."})})})}),(0,P.jsx)("div",{className:"px-3 mt-3",children:(0,P.jsxs)("p",{className:"lead mt-3",children:["We have received your order and will begin processing right away. An email confirmation has been sent to"," ",(0,P.jsx)("strong",{children:s.shippingAddress.email}),"."]})}),(0,P.jsx)("div",{className:"py-3",children:(0,P.jsxs)(l.Z,{children:[(0,P.jsx)(p.Z,{md:8,children:(0,P.jsxs)(u.Z,{variant:"flush",children:[(0,P.jsxs)(u.Z.Item,{children:[(0,P.jsx)("h3",{children:"Shipping"}),(0,P.jsxs)("p",{children:[(0,P.jsx)("strong",{children:"Shipping: "}),s.shippingAddress.firstName," ",s.shippingAddress.lastName,","," ",s.shippingAddress.email,", ",s.shippingAddress.phoneNo,", ",s.shippingAddress.addressLine1,","," ",s.shippingAddress.addressLine2,","," ",s.shippingAddress.state,", ",s.shippingAddress.town," ",s.shippingAddress.postCode,","," ",s.shippingAddress.shippingCountry]})]}),(0,P.jsxs)(u.Z.Item,{children:[(0,P.jsx)("h3",{children:"Payment Method"}),(0,P.jsxs)("p",{children:[(0,P.jsx)("strong",{children:"Method: "}),null===S||void 0===S?void 0:S.paymentMethod]})]}),(0,P.jsxs)(u.Z.Item,{children:[(0,P.jsx)("h3",{children:"Order Items"}),0===(null===S||void 0===S||null===(e=S.orderItems)||void 0===e?void 0:e.length)?(0,P.jsx)(Z.Z,{variant:"info",children:"No Ordered Items"}):(0,P.jsx)(u.Z,{variant:"flush",children:S.orderItems.map((function(e,r){return(0,P.jsx)(u.Z.Item,{children:(0,P.jsxs)(l.Z,{children:[(0,P.jsx)(p.Z,{md:1,children:(0,P.jsx)(h.Z,{src:e.image,alt:"Img",fluid:!0,rounded:!0})}),(0,P.jsx)(p.Z,{children:(0,P.jsx)(x.rU,{className:o,to:"/product/".concat(e.name),children:(0,P.jsxs)("p",{children:[e.name,", ",e.tablets," Pills, (",e.strength,"mg)"]})})}),(0,P.jsxs)(p.Z,{md:4,children:[e.packets," x ",e.price," = AUD"," ",(e.packets*e.price).toFixed(2)]})]})},r)}))})]})]})}),(0,P.jsxs)(p.Z,{md:4,children:[(0,P.jsx)(m.Z,{children:(0,P.jsxs)(u.Z,{variant:"flush",children:[(0,P.jsx)(u.Z.Item,{children:(0,P.jsx)("h2",{children:"Order Summary"})}),(0,P.jsx)(u.Z.Item,{children:(0,P.jsxs)(l.Z,{children:[(0,P.jsx)(p.Z,{children:"Items Total:"}),(0,P.jsxs)(p.Z,{children:["AUD"," ",(S.totalPrice-S.shippingPrice).toFixed(2)]})]})}),(0,P.jsx)(u.Z.Item,{children:(0,P.jsxs)(l.Z,{children:[(0,P.jsx)(p.Z,{children:"Free Pills:"}),(0,P.jsx)(p.Z,{children:S.freePills})]})}),(0,P.jsx)(u.Z.Item,{children:(0,P.jsxs)(l.Z,{children:[(0,P.jsx)(p.Z,{children:"Shipping:"}),(0,P.jsxs)(p.Z,{children:[0===S.shippingPrice?"":"AUD"," ",0===S.shippingPrice?"Free":S.shippingPrice]})]})}),(0,P.jsx)(u.Z.Item,{children:(0,P.jsxs)(l.Z,{children:[(0,P.jsx)(p.Z,{children:"Total:"}),(0,P.jsxs)(p.Z,{children:["AUD ",S.totalPrice]})]})}),(0,P.jsx)(u.Z.Item,{children:k&&(0,P.jsx)(Z.Z,{variant:"danger",children:k})})]})}),(0,P.jsx)("div",{className:d,children:(0,P.jsx)(x.rU,{to:"/",children:(0,P.jsx)(f.Z,{id:"submit-btn",type:"submit",className:"btn my-3",children:"Continue Shopping"})})})]})]})})]})]})},w=n(4009),S=function(){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(s.Z,{}),(0,P.jsx)(_,{}),(0,P.jsx)(w.Z,{})]})}},7530:function(e,r,n){n.d(r,{ZP:function(){return d}});var t={_origin:"https://api.emailjs.com"},s=function(e,r,n){if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!r)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0},i=n(3144),a=n(5671),c=(0,i.Z)((function e(r){(0,a.Z)(this,e),this.status=r.status,this.text=r.responseText})),o=function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(s,i){var a=new XMLHttpRequest;a.addEventListener("load",(function(e){var r=e.target,n=new c(r);200===n.status||"OK"===n.text?s(n):i(n)})),a.addEventListener("error",(function(e){var r=e.target;i(new c(r))})),a.open("POST",t._origin+e,!0),Object.keys(n).forEach((function(e){a.setRequestHeader(e,n[e])})),a.send(r)}))},d={init:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://api.emailjs.com";t._userID=e,t._origin=r},send:function(e,r,n,i){var a=i||t._userID;s(a,e,r);var c={lib_version:"3.4.0",user_id:a,service_id:e,template_id:r,template_params:n};return o("/api/v1.0/email/send",JSON.stringify(c),{"Content-type":"application/json"})},sendForm:function(e,r,n,i){var a=i||t._userID,c=function(e){var r;if(!(r="string"===typeof e?document.querySelector(e):e)||"FORM"!==r.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return r}(n);s(a,e,r);var d=new FormData(c);return d.append("lib_version","3.4.0"),d.append("service_id",e),d.append("template_id",r),d.append("user_id",a),o("/api/v1.0/email/send-form",d)}}},2677:function(e,r,n){var t=n(885),s=n(1413),i=n(5987),a=n(1694),c=n.n(a),o=n(2791),d=n(162),l=n(184),p=["as","bsPrefix","className"],u=["className"];var h=o.forwardRef((function(e,r){var n=function(e){var r=e.as,n=e.bsPrefix,t=e.className,a=(0,i.Z)(e,p);n=(0,d.vE)(n,"col");var o=(0,d.pi)(),l=[],u=[];return o.forEach((function(e){var r,t,s,i=a[e];delete a[e],"object"===typeof i&&null!=i?(r=i.span,t=i.offset,s=i.order):r=i;var c="xs"!==e?"-".concat(e):"";r&&l.push(!0===r?"".concat(n).concat(c):"".concat(n).concat(c,"-").concat(r)),null!=s&&u.push("order".concat(c,"-").concat(s)),null!=t&&u.push("offset".concat(c,"-").concat(t))})),[(0,s.Z)((0,s.Z)({},a),{},{className:c().apply(void 0,[t].concat(l,u))}),{as:r,bsPrefix:n,spans:l}]}(e),a=(0,t.Z)(n,2),o=a[0],h=o.className,m=(0,i.Z)(o,u),f=a[1],x=f.as,v=void 0===x?"div":x,j=f.bsPrefix,g=f.spans;return(0,l.jsx)(v,(0,s.Z)((0,s.Z)({},m),{},{ref:r,className:c()(h,!g.length&&j)}))}));h.displayName="Col",r.Z=h},2592:function(e,r,n){var t=n(1413),s=n(5987),i=n(1694),a=n.n(i),c=n(2791),o=n(2007),d=n.n(o),l=n(162),p=n(184),u=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],h=(d().string,d().bool,d().bool,d().bool,d().bool,c.forwardRef((function(e,r){var n=e.bsPrefix,i=e.className,c=e.fluid,o=e.rounded,d=e.roundedCircle,h=e.thumbnail,m=(0,s.Z)(e,u);return n=(0,l.vE)(n,"img"),(0,p.jsx)("img",(0,t.Z)((0,t.Z)({ref:r},m),{},{className:a()(i,c&&"".concat(n,"-fluid"),o&&"rounded",d&&"rounded-circle",h&&"".concat(n,"-thumbnail"))}))})));h.displayName="Image",h.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},r.Z=h},9743:function(e,r,n){var t=n(1413),s=n(5987),i=n(1694),a=n.n(i),c=n(2791),o=n(162),d=n(184),l=["bsPrefix","className","as"],p=c.forwardRef((function(e,r){var n=e.bsPrefix,i=e.className,c=e.as,p=void 0===c?"div":c,u=(0,s.Z)(e,l),h=(0,o.vE)(n,"row"),m=(0,o.pi)(),f="".concat(h,"-cols"),x=[];return m.forEach((function(e){var r,n=u[e];delete u[e],r=null!=n&&"object"===typeof n?n.cols:n;var t="xs"!==e?"-".concat(e):"";null!=r&&x.push("".concat(f).concat(t,"-").concat(r))})),(0,d.jsx)(p,(0,t.Z)((0,t.Z)({ref:r},u),{},{className:a().apply(void 0,[i,h].concat(x))}))}));p.displayName="Row",r.Z=p},5671:function(e,r,n){function t(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}n.d(r,{Z:function(){return t}})},3144:function(e,r,n){function t(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function s(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(r,{Z:function(){return s}})}}]);
//# sourceMappingURL=969.1176d09e.chunk.js.map